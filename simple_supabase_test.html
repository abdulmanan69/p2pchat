<!DOCTYPE html>
<html>
<head>
    <title>Simple Supabase Test</title>
</head>
<body>
    <h1>Simple Supabase Test</h1>
    <button onclick="testSupabase()">Test Supabase</button>
    <div id="result"></div>

    <script>
        // Function to load Supabase dynamically
        async function loadSupabase() {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2';
                script.onload = () => resolve(window.supabase);
                script.onerror = () => reject(new Error('Failed to load Supabase script'));
                document.head.appendChild(script);
            });
        }
        
        async function testSupabase() {
            const result = document.getElementById('result');
            result.innerHTML = 'Testing...';
            
            try {
                // Check if Supabase is already loaded
                if (typeof supabase === 'undefined') {
                    result.innerHTML += '<br>Supabase not found, trying to load...';
                    await loadSupabase();
                }
                
                result.innerHTML += '<br>Supabase available: ' + (typeof supabase !== 'undefined');
                
                if (typeof supabase !== 'undefined') {
                    result.innerHTML += '<br>createClient available: ' + (typeof supabase.createClient === 'function');
                    
                    if (typeof supabase.createClient === 'function') {
                        result.innerHTML += '<br>✅ Supabase is ready to use!';
                    } else {
                        result.innerHTML += '<br>❌ createClient function not available';
                    }
                } else {
                    result.innerHTML += '<br>❌ Supabase not available';
                }
            } catch (error) {
                result.innerHTML += '<br>❌ Error: ' + error.message;
            }
        }
    </script>
</body>
</html>